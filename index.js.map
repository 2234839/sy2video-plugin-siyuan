{"version":3,"file":"index.js","sources":["../../src/sy2video-plugin-siyuan/index.ts"],"sourcesContent":["import { Plugin } from \"siyuan\";\r\n// 引入这个变量后 vite 会自动注入 hot\r\nimport.meta.hot;\r\n\r\nexport default class VitePlugin extends Plugin {\r\n  async onLayoutReady() {\r\n    const urlParams = new URLSearchParams(window.location.search);\r\n    const blockId = urlParams.getAll(\"block_id\");\r\n    const block_show = urlParams.get(\"block_show\");\r\n    if (block_show && blockId) {\r\n      this.addFloatLayer({\r\n        x: 0,\r\n        y: 0,\r\n        ids: [...blockId],\r\n      });\r\n      const el: HTMLElement = window.siyuan.blockPanels[0].element;\r\n      //   钉住\r\n      (el.querySelector(`[data-type=\"pin\"]`) as HTMLButtonElement)?.click();\r\n      await import(\"./view_block.css\");\r\n    }\r\n  }\r\n}\r\n"],"names":[],"mappings":";AAAA,MAAA,EAAA,OAAuB,IAAA,QAAA,QAAA;AAIvB,MAAqB,mBAAmB,OAAO;AAAA,EAC7C,MAAM,gBAAgB;;AACpB,UAAM,YAAY,IAAI,gBAAgB,OAAO,SAAS,MAAM;AACtD,UAAA,UAAU,UAAU,OAAO,UAAU;AACrC,UAAA,aAAa,UAAU,IAAI,YAAY;AAC7C,QAAI,cAAc,SAAS;AACzB,WAAK,cAAc;AAAA,QACjB,GAAG;AAAA,QACH,GAAG;AAAA,QACH,KAAK,CAAC,GAAG,OAAO;AAAA,MAAA,CACjB;AACD,YAAM,KAAkB,OAAO,OAAO,YAAY,CAAC,EAAE;AAEjD,eAAA,cAAc,mBAAmB,MAAjC,mBAA0D;AAC9D,YAAM,QAAA,QAAA,EAAA,KAAA,MAAA,QAAO,2BAAkB,CAAA;AAAA,IACjC;AAAA,EACF;AACF;;"}